(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2974,3197,5465,332],{90654:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(92809),i=n(30266),a=n(67294),c=n(15894),s=n(90765),o=n.n(s),d=n(72802),l=n(87202),u=n(3746),p=n(73631),_=(n(20379),n(81287)),h=n(9482),m=(n(11163),n(27076)),v=n(63552),x=n(85893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=n(78566),y=n(79361);function C(e){return(e=(e=(e=e.toString()).slice(0,2)+":"+e.slice(2,4)).toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?" AM":" PM",e[0]=+e[0]%12||12),e.join("")}function k(e){return(e=e.toString()).slice(6,8)+"-"+e.slice(4,6)+"-"+e.slice(0,4)}function b(e){e=e||"";var[t,...n]=e.split(" ");return"".concat(function(e){return(e=(e=e||"").toString()).split("-").reverse().join("-")}(t)," ").concat(n.join(" "))}var T=e=>{(0,d.aM)();var t,{ticket_id:n="",uuid:r="",flow:s="",accesstype:g="",type:T=""}=(0,d.dD)(),S="ssdldm21rtask"===(0,_.hG)(s),P="ssd"===(0,_.hG)(T),{0:N,1:R}=(0,a.useState)(""),{0:w,1:O}=(0,a.useState)({}),{getUserDetailsCtx:B,setCustomerDetails:U,setUserDetailsCtx:D,getShareTextCtx:Z}=(0,p.default)(),{extra_laddu_count:A=0,booking_confirmed:L=!1,extra_laddu_amount:M=0,hundi_offering_amount:G=0,total_amounnt:I=0,booking_ref_no:E="",slot_date:q="",slot_hour:z="",pilgrims:F=[],reporting_at:H="-",qr_code:X="",payment_time:K="",uuid:Q=""}=(null===w||void 0===w?void 0:w.result)||{},{id:Y="",user_id:J=""}=B()||{},{0:W,1:V}=(0,a.useState)(null===(t=Z())||void 0===t?void 0:t.ticket_share_text);(0,a.useEffect)((()=>{(0,i.Z)((function*(){n&&J?yield te():r?yield ne():J&&ee()}))()}),[J]);var $=function(){var e=(0,i.Z)((function*(){var{ticket_share_text:e=""}=Z()||{};if(!e){var t,n=yield(0,m.fm)(),{ticket_share_text:r=""}=(null===n||void 0===n?void 0:n.data)&&(null===n||void 0===n||null===(t=n.data[0])||void 0===t?void 0:t.attributes);V(r)}}));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((()=>{"mobile"===g&&((0,h.wb)(!1),$())}),[]);var ee=()=>{U([]),D({user_id:"",valid_till:"",valid_till_in_utc:""})},te=function(){var e=(0,i.Z)((function*(){var e={};try{e=yield(0,l.xr)({ticket_id:n,user_id:J,authToken:Y},T||s);var{status:t=""}=e;R(t),O(e)}catch(r){R("fail"),O(r)}}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,i.Z)((function*(){var e={};try{e=yield(0,l.xU)({uuid:r},S);var{status:t=""}=e;R(t),O(e)}catch(n){R("fail"),O(n)}}));return function(){return e.apply(this,arguments)}}(),re=(e,t)=>(0,x.jsxs)("div",{className:o().staticContentContainer,children:[(0,x.jsxs)("div",{className:o().staticContentSubheading,children:[(0,x.jsx)("div",{className:o().borderStaticContent,children:t}),(0,x.jsx)("div",{className:o().borderStaticContent,children:"SED"})]}),(0,x.jsx)("div",{className:o().fontFamilyMarginBottom,children:(0,c.k)("receipt","instructionsHeaderTxt")}),(0,x.jsx)("div",{children:"1.".concat((0,c.k)("receipt","instructionTxt1"))}),(0,x.jsx)("div",{children:"2.".concat((0,c.k)("receipt","instructionTxt2"))}),(0,x.jsx)("div",{children:"3.".concat((0,c.k)("receipt","instructionTxt3"))}),(0,x.jsx)("div",{children:"4.".concat((0,c.k)("receipt","instructionTxt4"))}),(0,x.jsx)("div",{children:"5.".concat((0,c.k)("receipt","instructionTxt5"))}),(0,x.jsx)("div",{children:"6.".concat((0,c.k)("receipt","instructionTxt6"))}),(0,x.jsx)("div",{children:"7.".concat((0,c.k)("receipt","instructionTxt7"))}),(0,x.jsx)("div",{children:"8.".concat((0,c.k)("receipt","instructionTxt8"))})]}),ie=()=>{(0,v.SD)({action:"Share",label:"Receipt"});var e=n?Q:r,t=W?null===W||void 0===W?void 0:W.replace("[TICKET_URL]","".concat(window.location.origin,"/receipt?uuid=").concat(e)).replace("[PRAY_ICON]",(0,_.YW)("\ud83d\ude4f\ud83c\udffb")):"".concat(window.location.origin,"/receipt?uuid=").concat(e);(0,h.BN)(t)};return(0,x.jsx)(x.Fragment,{children:N?"success"===N?L?(0,x.jsx)("div",{className:o().showTicketContainer,children:(0,x.jsxs)("div",{className:o().ticketsContainer,children:[F.map(((e,t)=>{var n,{pilgrim_ref_no:r="",name:i="",gender:s="",age:d="",id_type:l="",id_number:u="",booking_amount:p=""}=e;return(0,x.jsxs)(a.Fragment,{children:[0!=t&&(0,x.jsx)("div",{className:o().ticketSeparator}),(0,x.jsxs)("div",{className:o().dynamicTicketUpperContainer,children:[(0,x.jsxs)("div",{className:o().dynamicTicketContainer,children:[(0,x.jsxs)("div",{className:o().flexCenterRelative,children:[(0,x.jsx)("img",{src:"/ttdlogo.png",className:o().ttdLogo}),(0,x.jsxs)("div",{className:o().gridCenterColor,children:[(0,x.jsxs)("div",{className:o().textAlignCenter,children:[(0,x.jsx)("div",{children:(0,c.k)("receipt","headerTxt1")}),(0,x.jsx)("div",{children:(0,c.k)("receipt","".concat(T?P?"headerTxt2SSD":"headerTxt2":S?"headerTxt2SSD":"headerTxt2"))})]}),r&&(0,x.jsxs)("div",{className:o().gridCenterMarginBottom,children:[(0,x.jsx)(j,f({value:r},{width:1,height:35,format:"CODE128",renderer:"svg",displayValue:!1,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:7,fontSize:12,background:"var(--ttd-darkYellow-bg-color)",lineColor:"#000000",margin:10,marginTop:10,marginBottom:2,marginLeft:10,marginRight:10})),(0,x.jsx)("div",{children:r})]})]})]}),(0,x.jsx)("table",{className:o().tableContainer,children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:o().reportingTime,children:(0,c.k)("receipt","reportingTime")}),(0,x.jsx)("td",{className:o().reportingTimeContent,children:"".concat(C(z)," / ").concat(k(q))})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:o().reportingTime,children:(0,c.k)("receipt","reportAt")}),(0,x.jsx)("td",{className:o().reportingTimeContent,children:H})]})]})}),(0,x.jsxs)("div",{className:o().metaDataContainer,children:[(0,x.jsxs)("div",{children:[(0,c.k)("receipt","freeLadduTxt"),(0,x.jsx)("span",{className:o().redTxt,children:" 1"})]}),0===t&&0!=A&&(T?"sed"===T:!S)&&(0,x.jsxs)("div",{children:[(0,c.k)("receipt","addnLadduTxt"),(0,x.jsx)("span",{className:o().redTxt,children:" ".concat(A)})]}),0===t&&0!=M&&(T?"sed"===T:!S)&&(0,x.jsxs)("div",{children:[(0,c.k)("receipt","addnLadduAmnt"),(0,x.jsx)("span",{className:o().redTxt,children:" \u20b9. ".concat(M)})]}),(T?"sed"===T:!S)&&p&&(0,x.jsxs)("div",{children:[(0,c.k)("receipt","amount"),(0,x.jsx)("span",{className:o().redTxt,children:" \u20b9. ".concat(p)})]}),0===t&&0!=G&&(T?"sed"===T:!S)&&(0,x.jsxs)("div",{children:[(0,c.k)("receipt","hundiOffr"),(0,x.jsx)("span",{className:o().redTxt,children:" \u20b9. ".concat(G)})]})]}),(0,x.jsxs)("div",{className:o().flexSpaceBetween,children:[(0,x.jsxs)("div",{className:o().gridGapFontSize,children:[0===t&&(0,x.jsxs)("div",{children:[(0,c.k)("receipt","grpBooikngTxt"),(0,x.jsx)("span",{className:o().redTxt,children:" ".concat(E)})]}),(0,x.jsxs)("div",{children:[(0,c.k)("receipt","bookingDate"),(0,x.jsx)("span",{className:o().redTxt,children:" ".concat(b(K||"").split(" ")[0])})]}),(0,x.jsxs)("div",{children:[(0,c.k)("receipt","nameTxt"),(0,x.jsx)("span",{className:o().uppercase,children:" ".concat(i)})]}),(0,x.jsxs)("div",{children:[(0,c.k)("receipt","gender"),(0,x.jsx)("span",{className:o().uppercase,children:" ".concat(s,"/").concat(d)})]}),(0,x.jsxs)("div",{children:[(0,c.k)("receipt","photoid"),(0,x.jsx)("span",{className:o().uppercase,children:" ".concat("aadhar"===(0,_.hG)(l)?"AADHAAR":l,"/").concat(u)})]})]}),0===t&&X&&(T?"sed"===T:!S)&&(0,x.jsx)("div",{className:o().qrCodeContainer,children:(0,x.jsx)(y,{level:"L",size:80,value:X})})]}),(0,x.jsx)("div",{className:o().noteTxt,children:(0,c.k)("receipt","noteTxt")}),(0,x.jsx)("div",{className:o().authorityTxt,children:(0,c.k)("receipt","authorityTxt")})]}),(T?"ssd"===T:S)?(n=C(z),(0,x.jsxs)("div",{className:o().staticContentContainer,children:[(0,x.jsxs)("div",{className:o().staticContentSubheading,children:[(0,x.jsx)("div",{className:o().borderStaticContent,children:n}),(0,x.jsx)("div",{className:o().borderStaticContent,children:"SSD"})]}),(0,x.jsx)("div",{className:o().fontFamilyMarginBottom,children:(0,c.k)("receipt","instructionsHeaderTxt")}),(0,x.jsx)("div",{children:"1.".concat((0,c.k)("receipt","instructionTxt1"))}),(0,x.jsx)("div",{children:"2.".concat((0,c.k)("receipt","instructionTxt2"))}),(0,x.jsx)("div",{children:"3.".concat((0,c.k)("receipt","instructionTxt3"))}),(0,x.jsx)("div",{children:"4.".concat((0,c.k)("receipt","instructionTxt4"))}),(0,x.jsx)("div",{children:"5.".concat((0,c.k)("receipt","instructionTxt7"))}),(0,x.jsx)("div",{children:"6.".concat((0,c.k)("receipt","instructionTxt8"))})]})):re(0,C(z))]})]},"ticket-view-".concat(t))})),(0,x.jsxs)("div",{className:o().printButtonContainer,children:["mobile"===g&&(0,x.jsxs)("button",{className:"".concat(o().printButton),onClick:ie,children:[(0,x.jsx)("img",{src:"/share_icon.svg",className:o().shareButtonIcon}),"Share"]}),"mobile"!==g&&(0,x.jsxs)("button",{className:"".concat(o().printButton),onClick:()=>{window.print()},children:[(0,x.jsx)("img",{src:"/print_icon.svg",className:o().shareButtonIcon}),"Print"]})]})]})}):(0,x.jsx)("div",{className:o().unsuccesfulApiContainer,children:(0,x.jsx)("div",{className:o().statusPendingSubContainer,children:(0,x.jsxs)("div",{className:o().statusPending,children:[(0,c.k)("receipt","ticketNotAvailable"),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,c.k)("receipt","ticketNotAvailable2")]})})}):(()=>{var e;return(0,x.jsx)("div",{className:o().unsuccesfulApiContainer,children:(0,x.jsx)("div",{className:o().statusPendingSubContainer,children:(0,x.jsx)("div",{className:o().statusPending,children:(null===w||void 0===w||null===(e=w.reason)||void 0===e?void 0:e.reason_eng)||"We are unable to process your request currently. Please try again after some time"})})})})():(0,x.jsx)("div",{className:o().apiPendingScreenContainer,children:(0,x.jsx)(u.Z,{show:!0,size:"Large"})})})}},3746:function(e,t,n){"use strict";var r=n(31146),i=n.n(r),a=n(85893);t.Z=function(e){return e.show?(0,a.jsx)("span",{className:i()["loaderStyle".concat(e.size)||0]}):(0,a.jsx)("span",{})}},27076:function(e,t,n){"use strict";n.d(t,{io:function(){return c},O1:function(){return o},hQ:function(){return p},a7:function(){return l},bN:function(){return v},tc:function(){return h},fm:function(){return g}});var r=n(30266),i=n(72615),a=n(59455);function c(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)((function*(){var e={};try{var t="".concat(a.cms_baseurl,"/get-video-galleries?populate[0]=video_section&populate[1]=video_section.video_gallery.image");return e=yield(0,i.U2)(t),Promise.resolve(e.data)}catch(n){return Promise.reject(n)}}))).apply(this,arguments)}function o(){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((function*(){var e={};try{var t="".concat(a.cms_baseurl,"/get-menu-items?populate[menu_items][populate]=*");return e=yield(0,i.U2)(t),Promise.resolve(e.data)}catch(n){return Promise.reject(n)}}))).apply(this,arguments)}function l(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((function*(){var e={};try{var t="".concat(a.cms_baseurl,"/get-pilgrim-dashboards?populate[0]=data.content.GodImage&populate[1]=data.content.image&populate[2]=data.content.BackgroundImage&populate[3]=data.content.RangoliImage&populate[4]=data.more_services&populate[5]=data.govinda_morning&populate[6]=data.govinda_afternoon&populate[7]=data.govinda_evening&populate[8]=data.govinda_night&populate[9]=data.content.subservices");return e=yield(0,i.U2)(t),Promise.resolve(e.data)}catch(n){return Promise.reject(n)}}))).apply(this,arguments)}function p(){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)((function*(){var e={};try{var t="".concat(a.cms_baseurl,"/get-ttd-faqs?filters[is_govinda]=true");return e=yield(0,i.U2)(t),Promise.resolve(e.data)}catch(n){return Promise.reject(n)}}))).apply(this,arguments)}function h(){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)((function*(){var e={};try{var t="".concat(a.cms_baseurl,"/dos-donts?populate[dos][populate][0]=dosItems&populate[donts][populate][0]=dontsItems");return e=yield(0,i.U2)(t),Promise.resolve(e.data)}catch(n){return Promise.reject(n)}}))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)((function*(e){var{userId:t="",authToken:n=""}=e,r={};try{var c="".concat(a.sdn_baseurl,"/sdn/rest/v1/user/get_details");return r=yield(0,i.U2)(c,"",{userid:t,authtoken:n}),Promise.resolve(r.data)}catch(s){return Promise.reject(s)}}))).apply(this,arguments)}function g(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)((function*(){var e={};try{var t="".concat(a.cms_baseurl,"/get-share-urls");return e=yield(0,i.U2)(t),Promise.resolve(e.data)}catch(n){return Promise.reject(n)}}))).apply(this,arguments)}},87202:function(e,t,n){"use strict";n.d(t,{gR:function(){return s},xr:function(){return d},xU:function(){return u},WP:function(){return x},SP:function(){return _},JG:function(){return m}});var r=n(30266),i=n(72615),a=n(59455),c=n(81287);function s(e){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)((function*(e){var{ticket_id:t="",user_id:n="",authToken:r=""}=e,c={};try{var s="".concat(a.sdn_baseurl,"/sdn/rest/v1/slot/check_availability_considering_blocks?ticket_id=").concat(t);return c=yield(0,i.U2)(s,"",{userid:n,authtoken:r}),Promise.resolve(c.data)}catch(o){return Promise.reject(o)}}))).apply(this,arguments)}function d(e,t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)((function*(e,t){var{ticket_id:n="",user_id:r="",authToken:s=""}=e,o={};try{var d="sed"===(0,c.hG)(t)?"".concat(a.sdn_baseurl,"/sdn/rest/v1/ticket/get?id=").concat(n):"ssdldm21rtask"===(0,c.hG)(t)||"ssd"===(0,c.hG)(t)?"".concat(a.sdn_baseurl,"/sdn/rest/v1/ssd/ticket/get?id=").concat(n):"".concat(a.sdn_baseurl,"/sdn/rest/v1/ticket/get?id=").concat(n);return o=yield(0,i.U2)(d,"",{userid:r,authtoken:s}),Promise.resolve(o.data)}catch(l){return Promise.reject(l)}}))).apply(this,arguments)}function u(e,t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((function*(e,t){var{uuid:n=""}=e,r={};try{var c=t?"".concat(a.sdn_baseurl,"/sdn/rest/v1/ssd/ticket/get_by_uuid?uuid=").concat(n):"".concat(a.sdn_baseurl,"/sdn/rest/v1/ticket/get_by_uuid?uuid=").concat(n);return r=yield(0,i.U2)(c),Promise.resolve(r.data)}catch(s){return Promise.reject(s)}}))).apply(this,arguments)}function _(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((function*(e){var{ticket_id:t="",user_id:n="",authToken:r=""}=e,c={};try{var s="".concat(a.sdn_baseurl,"/sdn/rest/v1/acc/ticket/get?id=").concat(t);return c=yield(0,i.U2)(s,"",{userid:n,authtoken:r}),Promise.resolve(c.data)}catch(o){return Promise.reject(o)}}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((function*(e){var{uuid:t=""}=e,n={};try{var r="".concat(a.sdn_baseurl,"/sdn/rest/v1/acc/get_by_uuid?uuid=").concat(t);return n=yield(0,i.U2)(r),Promise.resolve(n.data)}catch(c){return Promise.reject(c)}}))).apply(this,arguments)}function x(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((function*(e){var{ticket_id:t="",user_id:n="",authToken:r=""}=e,c={};try{var s="".concat(a.sdn_baseurl,"/sdn/rest/v1/ssd/ticket/book?ticket_id=").concat(t);return c=yield(0,i.U2)(s,"",{userid:n,authtoken:r}),Promise.resolve(c.data)}catch(o){return Promise.reject(o)}}))).apply(this,arguments)}},62453:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/receipt",function(){return n(90654)}])},31146:function(e){e.exports={loaderStyleLarge:"CircularProgress_loaderStyleLarge__18r0h",loader:"CircularProgress_loader__1Rock",loaderStyleLargeRedCream:"CircularProgress_loaderStyleLargeRedCream__1opn7",loaderStyleMedium:"CircularProgress_loaderStyleMedium__C8fd4",loaderStyleSmallRed:"CircularProgress_loaderStyleSmallRed__3U5_N",loaderStyleMediumPurple:"CircularProgress_loaderStyleMediumPurple__3GtIe",loaderStyleLargePurple:"CircularProgress_loaderStyleLargePurple__1ML_4",loaderStyleSmallGrey:"CircularProgress_loaderStyleSmallGrey__2Hw7i",loaderStyleXSmall:"CircularProgress_loaderStyleXSmall__15D99"}},90765:function(e){e.exports={ticketSeparator:"Receipt_ticketSeparator__3R8Uy",ticketsContainer:"Receipt_ticketsContainer__124Iq",dynamicTicketContainer:"Receipt_dynamicTicketContainer__2Jn1-",tableContainer:"Receipt_tableContainer__3_RX6",tableC1:"Receipt_tableC1__35UC8",tableC2:"Receipt_tableC2__2k3x_",metaDataContainer:"Receipt_metaDataContainer__2mKV3",noteTxt:"Receipt_noteTxt__QffdB",authorityTxt:"Receipt_authorityTxt__3fBiO",redTxt:"Receipt_redTxt__2pDuN",staticContentContainer:"Receipt_staticContentContainer__1T1-M",ttdLogo:"Receipt_ttdLogo__G5z_a",qrCodeContainer:"Receipt_qrCodeContainer__1PA-R",apiPendingScreenContainer:"Receipt_apiPendingScreenContainer__2Edv7",unsuccesfulApiContainer:"Receipt_unsuccesfulApiContainer__34yP-",staticContentSubheading:"Receipt_staticContentSubheading__n82fG",printButton:"Receipt_printButton__9iwbn",printButtonContainer:"Receipt_printButtonContainer__2Ajrm",shareButtonIcon:"Receipt_shareButtonIcon__1WH_Z",dynamicTicketUpperContainer:"Receipt_dynamicTicketUpperContainer__2etRO",showTicketContainer:"Receipt_showTicketContainer__JQlZH",flexCenterRelative:"Receipt_flexCenterRelative__2Hi6R",gridCenterColor:"Receipt_gridCenterColor__28oPm",gridCenterMarginBottom:"Receipt_gridCenterMarginBottom__2KLY0",reportingTime:"Receipt_reportingTime__2lq7K",reportingTimeContent:"Receipt_reportingTimeContent__29_1Y",uppercase:"Receipt_uppercase__1MAJO",flexSpaceBetween:"Receipt_flexSpaceBetween__3_Qe5",gridGapFontSize:"Receipt_gridGapFontSize__iDtQU",borderStaticContent:"Receipt_borderStaticContent__jqEvu",fontFamilyMarginBottom:"Receipt_fontFamilyMarginBottom__shaKv",textAlignCenter:"Receipt_textAlignCenter__1OjO7",statusPendingSubContainer:"Receipt_statusPendingSubContainer__5OX3r",statusPending:"Receipt_statusPending__1Izpu"}}},function(e){e.O(0,[9774,9351,9361,8566,3552,2888,179],(function(){return t=62453,e(e.s=t);var t}));var t=e.O();_N_E=t}]);